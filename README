vida

Vida is a Lua module that allows you to include C code directly
in your modules which is then extracted during a build phase to
generate shared libraries callable via LuaJit FFI. If the library
is called from Lua without the build phase, Vida attempts to
extract and compile the code to a temporary location using tools
available on the host.

How to use the module

You include the vida module as normal. Call vida.source to provide
C code together with a C interface that will be passed along to
FFI. The return value will be the FFI namespace of the loaded dynamic
module.
